"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["github-models-repo-settings"],{13255:(e,t,s)=>{s.d(t,{_S:()=>n,cB:()=>o,cW:()=>a});var i=s(66871),r=s(96679);let n=()=>{let e=(0,i.JV)().appId;return e&&"rails"!==e?e:crypto.randomUUID()},a=e=>{(0,i.C3)({appId:e})},o=()=>{let e=document.querySelector("react-app")||document.querySelector("projects-v2");return e?.uuid||"rails"};r.cg?.addEventListener("hashchange",()=>{(0,i.C3)({appId:o()})},!0)},53005:(e,t,s)=>{s.d(t,{O:()=>a,S:()=>n});var i=s(96679);let r=i.cg?.document?.head?.querySelector('meta[name="release"]')?.content||"",n="X-GitHub-Client-Version";function a(){return r}},26559:(e,t,s)=>{s.d(t,{jC:()=>l,kt:()=>a,tV:()=>o});var i=s(53005),r=s(27851),n=s(88191);function a(e){let t={"X-Requested-With":"XMLHttpRequest",...(0,n.wE)(e)};return(0,r.G7)("client_version_header")&&(t={...t,[i.S]:(0,i.O)()}),t}function o(e,t){for(let[s,i]of Object.entries(a(t)))e.set(s,i)}function l(e){return{"X-GitHub-App-Type":e}}},88191:(e,t,s)=>{s.d(t,{$r:()=>a,M1:()=>o,li:()=>r,pS:()=>c,wE:()=>l});var i=s(96679);let r="X-Fetch-Nonce",n=new Set;function a(e){n.add(e)}function o(){return n.values().next().value||""}function l(e){let t={};return void 0!==e&&(t["X-Fetch-Nonce-To-Validate"]=e),void 0===e?t[r]=o():n.has(e)?t[r]=e:t[r]=Array.from(n).join(","),t}function c(){let e=i.XC?.head?.querySelector('meta[name="fetch-nonce"]')?.content||"";e&&a(e)}},38329:(e,t,s)=>{var i=s(74848);function r(e){return(0,i.jsx)(i.Fragment,{children:e.children})}try{r.displayName||(r.displayName="App")}catch{}var n=s(84217),a=s(96540),o=s(38621),l=s(34614),c=s(10569),u=s(63867),d=s(15385);let h={container:"ModelsAccessToggle-module__container--L5ZlW"};var m=s(25772),p=s(94747),_=s(60039),b=s(96235);let f=(0,a.createContext)(void 0);function g({children:e}){let{ownerDisplayLogin:t,repositoryName:s,repositoryAccessPolicy:r}=(0,m.B)(),[n,o]=(0,a.useState)(r),{data:l,mutate:c,isPending:u,isError:d}=function(e,t){let s=(0,b.$$h)({owner:e,repo:t});return(0,p.n)({mutationKey:["set-github-models-repository-access-policy",e,t],mutationFn:async({method:e})=>{let t=await (0,_.lS)(s,{method:e});if(t.ok)return await t.json();throw Error(`${t.status} on ${t.url}, unexpected status or payload`)}})}(t,s),{isRepoModelsEnabled:h}=n,g=(0,a.useMemo)(()=>({updateRepositoryAccessPolicy:c,isRepoModelsEnabled:h,didUpdateError:d,isUpdatePending:u}),[d,h,u,c]);return(0,a.useEffect)(()=>{l&&o(l)},[l,l?.isRepoModelsEnabled]),(0,i.jsx)(f.Provider,{value:g,children:e})}try{f.displayName||(f.displayName="AccessPolicyContext")}catch{}try{g.displayName||(g.displayName="AccessPolicyProvider")}catch{}function v(){let{isAccessConfigurable:e,repositoryOwnerType:t}=(0,m.B)(),{isRepoModelsEnabled:s,updateRepositoryAccessPolicy:r,isUpdatePending:p,didUpdateError:_}=function(){let e=(0,a.useContext)(f);if(!e)throw Error("useRepositoryAccessPolicy must be used within a RepositoryAccessPolicyProvider");return e}(),b=(0,a.useId)();return(0,i.jsxs)("div",{className:h.container,children:[(0,i.jsxs)(n.A,{as:"h3",variant:"small",className:"mb-2",children:[(0,i.jsx)(o.AiModelIcon,{className:"v-align-middle mr-2"}),"Models in this repository"]}),(0,i.jsxs)("p",{className:"fgColor-muted",children:["If disabled, the Models tab will be hidden, and the prompt editor and comparison tooling evaluations will be unavailable.",(0,i.jsx)("span",{children:"organization"===t?" For additional configuration options, go to models in organization settings. ":" "}),(0,i.jsx)(l.A,{href:"https://gh.io/models-org-learn-more",inline:!0,children:"Learn more about Models."})]}),e?(0,i.jsxs)("div",{className:"d-md-flex flex-items-center",children:[(0,i.jsxs)(c.W,{children:[(0,i.jsxs)(c.W.Button,{disabled:p,"aria-describedby":_?b:void 0,leadingVisual:()=>_?(0,i.jsx)(o.AlertIcon,{}):p?(0,i.jsx)(u.A,{size:"small"}):null,className:_?"mr-3":void 0,children:[(0,i.jsx)("span",{className:"sr-only",children:"Models status: "}),(0,i.jsx)("span",{children:s?"Enabled":"Disabled"})]}),(0,i.jsx)(c.W.Overlay,{children:!p&&(0,i.jsxs)(d.l,{selectionVariant:"single",children:[(0,i.jsx)(d.l.Item,{selected:s,onSelect:()=>r({method:"POST"}),children:"Enabled"}),(0,i.jsx)(d.l.Item,{selected:!s,onSelect:()=>r({method:"DELETE"}),children:"Disabled"})]})})]}),_&&(0,i.jsx)("div",{id:b,className:"fgColor-danger",children:"There was a problem saving your policy. Please try again later."})]}):(0,i.jsxs)("div",{children:[(0,i.jsx)(o.ShieldLockIcon,{className:"v-align-middle mr-1"}),"This setting has been disabled by organization policy administrators."]})]})}try{v.displayName||(v.displayName="ModelsAccessToggle")}catch{}function y(){return(0,i.jsxs)(g,{children:[(0,i.jsx)("div",{className:"Subhead",children:(0,i.jsx)(n.A,{as:"h2","data-hpc":!0,variant:"medium",className:"Subhead-heading Subhead-heading--large",children:"Models"})}),(0,i.jsx)(v,{})]})}try{y.displayName||(y.displayName="AccessPolicyShow")}catch{}var j=s(68676),x=s(16058);(0,j.o)("github-models-repo-settings",()=>({App:r,routes:[(0,x.a)({path:(0,b.$$h)({owner:":org",repo:":repo"}),Component:y})]}))},60039:(e,t,s)=>{s.d(t,{DI:()=>r,QJ:()=>a,Sr:()=>o,lS:()=>n});var i=s(26559);function r(e,t={}){var s=e;if(new URL(s,window.location.origin).origin!==window.location.origin)throw Error("Can not make cross-origin requests from verifiedFetch");let n=function(e){let t=new URL(e,window.location.href),s=new URL(window.location.href,window.location.origin),i=s.searchParams.get("_features");i&&!t.searchParams.has("_features")&&t.searchParams.set("_features",i);let r=s.searchParams.get("_tracing");return r&&!t.searchParams.has("_tracing")&&t.searchParams.set("_tracing",r),e.startsWith(window.location.origin)?t.href:`${t.pathname}${t.search}`}(e),a={...t.headers,"GitHub-Verified-Fetch":"true",...(0,i.kt)()};return fetch(n,{...t,headers:a})}function n(e,t){let s={...t?.headers??{},Accept:"application/json","Content-Type":"application/json"},i=t?.body?JSON.stringify(t.body):void 0;return r(e,{...t,body:i,headers:s})}function a(e,t={}){let s={...t.headers,"GitHub-Is-React":"true"};return r(e,{...t,headers:s})}function o(e,t){let s={...t?.headers??{},"GitHub-Is-React":"true"};return n(e,{...t,headers:s})}},61388:(e,t,s)=>{s.d(t,{_:()=>o});var i=s(36158),r=s(26261),n=s(66500),a=s(24880),o=class extends n.Q{#e;#t=void 0;#s;#i;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,a.f8)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,a.EN)(t.mutationKey)!==(0,a.EN)(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#n(e)}getCurrentResult(){return this.#t}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#r(),this.#n()}mutate(e,t){return this.#i=t,this.#s?.removeObserver(this),this.#s=this.#e.getMutationCache().build(this.#e,this.options),this.#s.addObserver(this),this.#s.execute(e)}#r(){let e=this.#s?.state??(0,i.$)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#n(e){r.jG.batch(()=>{if(this.#i&&this.hasListeners()){let t=this.#t.variables,s=this.#t.context;e?.type==="success"?(this.#i.onSuccess?.(e.data,t,s),this.#i.onSettled?.(e.data,null,t,s)):e?.type==="error"&&(this.#i.onError?.(e.error,t,s),this.#i.onSettled?.(void 0,e.error,t,s))}this.listeners.forEach(e=>{e(this.#t)})})}}},31993:(e,t,s)=>{s.d(t,{j:()=>i});function i(e){return e}},94747:(e,t,s)=>{s.d(t,{n:()=>l});var i=s(96540),r=s(61388),n=s(26261),a=s(97665),o=s(54362);function l(e,t){let s=(0,a.jE)(t),[l]=i.useState(()=>new r._(s,e));i.useEffect(()=>{l.setOptions(e)},[l,e]);let c=i.useSyncExternalStore(i.useCallback(e=>l.subscribe(n.jG.batchCalls(e)),[l]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),u=i.useCallback((e,t)=>{l.mutate(e,t).catch(o.l)},[l]);if(c.error&&(0,o.G)(l.options.throwOnError,[c.error]))throw c.error;return{...c,mutate:u,mutateAsync:c.mutate}}},54362:(e,t,s)=>{function i(e,t){return"function"==typeof e?e(...t):!!e}function r(){}s.d(t,{G:()=>i,l:()=>r})}},e=>{var t=t=>e(e.s=t);e.O(0,["primer-react","react-core","react-lib","octicons-react","vendors-node_modules_oddbird_popover-polyfill_dist_popover-fn_js","vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_stacktrace-parser_dist_s-1d3d52","vendors-node_modules_primer_behaviors_dist_esm_index_mjs","vendors-node_modules_emotion_is-prop-valid_dist_emotion-is-prop-valid_esm_js-node_modules_emo-b1c483","vendors-node_modules_github_catalyst_lib_index_js-node_modules_primer_live-region-element_dis-b2aea6","ui_packages_failbot_failbot_ts","ui_packages_document-metadata_document-metadata_ts-ui_packages_history_history_ts-ui_packages-417c81","ui_packages_paths_index_ts"],()=>t(38329)),e.O()}]);
//# sourceMappingURL=github-models-repo-settings-1026fe0761a7.js.map